services:
  owner:
    build: .
    tty: true
    environment:
      - PRIVATE_KEY=${PRIVATE_KEY_1}

  recipient:
    build: .
    tty: true
    environment:
      - PRIVATE_KEY=${PRIVATE_KEY_2}

  validator-1:
    build: .
    tty: true
    environment:
      - PRIVATE_KEY=${PRIVATE_KEY_3}

  validator-2:
    build: .
    tty: true
    environment:
      - PRIVATE_KEY=${PRIVATE_KEY_4}

  validator-3:
    build: .
    tty: true
    environment:
      - PRIVATE_KEY=${PRIVATE_KEY_5}

  test-confuzzius:
    build: 
      context: .
      dockerfile: ./confuzzius/Dockerfile
    tty: true

  test-echidna:
    build: 
      context: .
      dockerfile: Dockerfile
      args:
        - INSTALL_ECHIDNA=true
        - INSTALL_PIP=true
    tty: true

  test-hardhat:
    build: .
    tty: true
    command: npm run test:hardhat
    environment:
      - PRIVATE_KEY=${PRIVATE_KEY_1}